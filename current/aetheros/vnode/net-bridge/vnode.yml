# vnode/net-bridge/vnode.yml
vnode:
  name: "net-bridge"
  version: "0.1.0"
  maintainer: "aetheros-core-team@aetheros.org"
  mode: strict # System drivers should always be strict for security

runtime:
  entrypoint: "bin/net-bridge.vnode"
  required_mem_mb: 16 # Minimal memory for a driver V-Node
  max_cpu_share: 0.05 # Limited CPU share as it's primarily I/O bound

capabilities:
  - NetworkAccess # General capability for network operations
  - CAP_HARDWARE_IO_PCI: "0x00:0x1F:0x0" # Access to specific PCI device (e.g., VirtIO-Net NIC)
  - CAP_IRQ_REGISTER: 11 # Register IRQ 11 for VirtIO-Net
  - CAP_DMA_ALLOC # Allocate DMA-compatible memory pages for network buffers
  - CAP_MEM_SHARE # For zero-copy data transfer with `svc://aethernet`
  - CAP_SYSCALL_RAW # Potentially for direct hardware register access (MMIO) if needed

storage:
  mounts: [] # As a low-level driver, it typically doesn't need persistent storage

observability:
  metrics: ["packets_rx", "packets_tx", "irq_latency_ns"]
