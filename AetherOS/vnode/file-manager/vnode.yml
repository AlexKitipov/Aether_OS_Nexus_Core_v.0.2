# vnode/file-manager/vnode.yml
vnode:
  name: "file-manager"
  version: "0.1.0"
  maintainer: "aetheros-core-team@aetheros.org"
  mode: strict # A core system component for managing user files

runtime:
  entrypoint: "bin/file-manager.vnode"
  required_mem_mb: 32 # For file buffering, directory listings, and IPC buffers
  max_cpu_share: 0.10 # Can be bursty depending on file operations (copy/move)

capabilities:
  - CAP_IPC_ACCEPT # To accept requests from client V-Nodes (e.g., GUI file explorer)
  - CAP_IPC_CONNECT: "svc://vfs" # To interact with the VFS for all file operations
  - CAP_LOG_WRITE # For logging file operations and errors
  - CAP_TIME_READ # For timestamping operations or for cache invalidation

storage:
  mounts:
    - path: "/home/<AID>"
      source: "aetherfs://user/<AID>"
      options: [ "rw", "recursive" ] # Full read/write access to user's home directory
    - path: "/tmp"
      source: "volatile://ramdisk"
      size: "16MB" # For temporary files during copy/move operations

observability:
  metrics: ["files_copied_total", "files_moved_total", "files_deleted_total", "dirs_created_total", "browse_requests_total", "errors_total"]
